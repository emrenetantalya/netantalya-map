<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>İlan Harita</title>
<style>
html, body { margin:0; padding:0; height:100%; }
#map { width:100%; height:400px; } /* Sabit yükseklik */
</style>
</head>
<body>
<div id="map"></div>

<script>
let map, marker;

function initMap() {
// Varsayılan koordinat (Antalya)
const defaultPos = { lat: 36.8969, lng: 30.7133 };

map = new google.maps.Map(document.getElementById("map"), {
zoom: 13,
center: defaultPos
});

marker = new google.maps.Marker({
position: defaultPos,
map: map
});

// Haritaya tıklandığında koordinatı gönder
map.addListener("click", function(e) {
const lat = e.latLng.lat();
const lng = e.latLng.lng();
marker.setPosition(e.latLng);

// Wix sayfasına gönder
window.parent.postMessage({ lat: lat, lng: lng }, "*");
});
}
</script>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAERog0p0vVyFaG-NfmjZAxZYRu2PlaMeY&callback=initMap">
</script>
</body>
</html>
