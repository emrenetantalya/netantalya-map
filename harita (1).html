<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
html, body, #map { height: 100%; margin: 0; padding: 0; }
</style>
</head>
<body>
<div id="map">Harita yükleniyor...</div>

<script>
let map;
let marker;

function initMap() {
const defaultPos = { lat: 36.8969, lng: 30.7133 }; // Antalya
map = new google.maps.Map(document.getElementById("map"), {
zoom: 13,
center: defaultPos
});
marker = new google.maps.Marker({
position: defaultPos,
map: map
});

map.addListener("click", function(event) {
const lat = event.latLng.lat();
const lng = event.latLng.lng();
marker.setPosition(event.latLng);

// Üst sayfaya gönder
window.parent.postMessage({ lat: lat, lng: lng }, "*");
});
}
</script>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAERog0p0vVyFaG-NfmjZAxZYRu2PlaMeY&callback=initMap">
</script>
</body>
</html>
